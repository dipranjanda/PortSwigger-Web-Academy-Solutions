# 🧪 Lab 1: SQL Injection vulnerability in WHERE clause allowing retrieval of hidden data

## 🎯 Objective

The lab contains a SQL injection vulnerability in the product category filter.  
We need to use SQL injection to **bypass the `released=1` filter** and retrieve **unreleased products** from the database.

---

## 🧠 What's Happening in the Backend?

The web app likely uses the following SQL query:

```sql
SELECT * FROM products WHERE category = 'Gifts' AND released = 1;
```
This means:

Only products with category 'Gifts' and released status 1 (true) will be shown.

Hidden or unreleased products (released = 0) are not displayed.

## 🗂 Sample Table (products.db)
| id | name          | category | price | released |
| -- | ------------- | -------- | ----- | -------- |
| 1  | Teddy Bear    | Gifts    | 500   | 1        |
| 2  | Smart Watch   | Gadgets  | 3000  | 1        |
| 3  | Perfume       | Gifts    | 1200  | 0 ❌     |
| 4  | Greeting Card | Gifts    | 100   | 1        |

## 🧪 Goal

We want to display all products, including the unreleased one (Perfume), which normally wouldn't show because released = 0.

## 💣 Injection Strategy
The original condition uses AND released = 1, which filters results.
To bypass it, we inject an OR-based true condition to override the filter:

## 🔐 Payload:
`1' OR 1=1-- `

Final injected query becomes:
`SELECT * FROM products WHERE category = '1' OR 1=1--' AND released = 1;`

Explanation:

'1' OR 1=1-- will always return TRUE, ignoring the rest of the query

-- comments out the remaining AND released=1

## 🧪 Step-by-Step Solution
Visit the lab and browse to the product filter section

In the URL or category parameter, change it like this:
`https://<lab-id>.web-security-academy.net/?category=1' OR 1=1--`
Press Enter

The page should now show all products, including the unreleased ones

## ✅ Lab Solved!

Using a basic OR 1=1 injection, we were able to:

Bypass the filtering logic

Display hidden/unreleased database entries

Successfully solve the lab


## 💡 Extra Notes for Beginners

| Symbol   | Use                                |
| -------- | ---------------------------------- |
| `'`      | Closes the string in SQL query     |
| `OR 1=1` | Always true condition              |
| `--`     | Comments out the rest of the query |
